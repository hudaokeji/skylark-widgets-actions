/**
 * skylark-widgets-buttons - The skylark button widgets library
 * @author Hudaokeji, Inc.
 * @version v0.9.0
 * @link https://github.com/skylark-widgets/skylark-widgets-buttons/
 * @license MIT
 */
define(["skylark-langx-numerics/vector2","skylark-widgets-base/panels/panel","./buttons","./button-image"],function(e,t,i,s){"use strict";var n=s.inherit({_construct:function(i){s.prototype._construct.call(this,i);var n=this.getSkin();this._elm.style.zIndex="200",this._elm.style.backgroundColor=n.buttonColor,this._elm.style.overflow="visible",this.panel=new t(this),this.panel.element.style.position="absolute",this.panel.element.style.overflow="visible",this.panel.element.style.backgroundColor=n.barColor,this.panel.element.style.zIndex="250",this.items=[],this.itemsPerLine=3,this.itemsSize=new e(40,40),this.itemsScale=new e(.7,.7),this.expanded=!1,this.setExpanded(!1);var o=this;this._elm.onmouseenter=function(){o.element.style.backgroundColor=n.buttonOverColor,o.setExpanded(!0)},this._elm.onmouseleave=function(){o.element.style.backgroundColor=n.buttonColor,o.setExpanded(!1)},this.panel.element.onmouseenter=function(){o.setExpanded(!0)},this.panel.element.onmouseleave=function(){o.setExpanded(!1)}},clear:function(){for(var e=0;e<this.items.length;e++)this.items[e].destroy();this.items=[]},setExpanded:function(e){this.expanded=e,this.panel.element.style.display=this.expanded?"block":"none"},insertItem:function(e){e.setParent(this.panel),this.items.push(e)},addItem:function(e,t,i){var n=this,o=new s(this.panel);o.setImage(e),o.setOnClick(function(){t(),n.expanded=!1,n.updateInterface()}),void 0!==i&&o.setAltText(i),this.items.push(o)},removeItem:function(e){e>=0&&e<this.items.length&&(this.items[e].destroy(),this.items.splice(e,1))},updatePanelSize:function(){var e=this.items.length<this.itemsPerLine?this.items.length:this.itemsPerLine;this.panel.size.x=this.itemsSize.x*e,this.panel.size.y=this.itemsSize.y*(Math.floor((this.items.length-1)/e)+1),this.panel.updateSize(),this.panel.position.set(this.itemsSize.x,0),this.panel.updatePosition()},updateItems:function(){this.updatePanelSize();for(var e=this.items.length<this.itemsPerLine?this.items.length:this.itemsPerLine,t=0;t<this.items.length;t++)this.items[t].size.set(this.itemsSize.x,this.itemsSize.y),this.items[t].position.x=this.itemsSize.x*(t%e),this.items[t].position.y=this.itemsSize.y*Math.floor(t/e),this.items[t].updateInterface()},updateVisibility:function(){this._elm.style.display=this.visible?"block":"none"},optionsSize:{get:function(){return this.itemsSize},set:function(e){this.itemsSize=e}},optionsPerLine:{get:function(){return this.itemsPerLine},set:function(e){this.itemsPerLine=e}}});return n.prototype.addOption=n.prototype.addItem,n.prototype.insertOption=n.prototype.insertItem,n.prototype.updateOptions=n.prototype.updateItems,n.prototype.removeOption=n.prototype.reomveItem,i.ButtonDrawer=n});
//# sourceMappingURL=sourcemaps/button-drawer.js.map
