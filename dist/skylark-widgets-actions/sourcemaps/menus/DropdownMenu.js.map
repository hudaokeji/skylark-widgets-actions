{"version":3,"sources":["menus/DropdownMenu.js"],"names":["define","Vector2","geom","Widget","TextMixin","ButtonMenu","DropdownMenu","inherit","_construct","parent","prototype","call","this","_buildTextSpan","_elm","style","backgroundColor","Editor","theme","buttonColor","cursor","pointerEvents","preventDragEvents","panel","overflow","display","zIndex","icon","arrow","document","createElement","position","right","top","width","height","appendChild","direction","DOWN","expanded","optionsSize","options","self","onmouseenter","setExpanded","buttonOverColor","onmouseleave","setDirection","location","showArrow","setIcon","left","src","removeOption","index","length","destroy","splice","addOption","name","callback","button","setText","setAlignment","Text","LEFT","set","setOnClick","undefined","push","addMenu","menu","setMargin","y","size","x","out","testAsis","bottom","UP","RIGHT","updateOptions","i","updateInterface","updateSize"],"mappings":"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","file":"../../menus/DropdownMenu.js","sourcesContent":["define([\n\t\"skylark-langx-numbers/Vector2\",\n\t\"skylark-domx-geom\",\n\n\t\"skylark-widgets-base/Widget\",\n\t\"skylark-widgets-base/mixins/TextMixin\",\n\n\t\"../buttons/ButtonMenu\"\n],function(\n\tVector2,\n\tgeom,\n\t\n\tWidget,\n\tTextMixin,\n\n\tButtonMenu\n){\n\t\"use strict\";\n\n\t/**\n\t * Dropdown menu element, used to create dropdowns in menu bars and in context menus.\n\t * \n\t * @class DropdownMenu\n\t * @extends {Text}\n\t * @param {Widget} parent Parent widget. \n\t */\n\n\n\tvar DropdownMenu = Widget.inherit({\n\n\t\t_construct : function (parent) {\n\t\t\tWidget.prototype._construct.call(this, parent, \"div\");\n\n\t\t\tthis._buildTextSpan();\n\n\n\t\t\tthis._elm.style.backgroundColor = Editor.theme.buttonColor;\n\t\t\tthis._elm.style.cursor = \"pointer\";\n\t\t\tthis._elm.style.pointerEvents = \"auto\";\n\n\t\t\tthis.preventDragEvents();\n\n\t\t\t/**\n\t\t\t * Panel element, where the options are stored.\n\t\t\t *\n\t\t\t * This DOM element is added directly to the parent DOM element.\n\t\t\t *\n\t\t\t * @attribute panel\n\t\t\t * @type {DOM}\n\t\t\t */\n\t\t\tthis.panel = new Widget(parent, \"div\");\n\t\t\tthis.panel._elm.style.overflow = \"visible\";\n\t\t\tthis.panel._elm.style.display = \"none\";\n\t\t\tthis.panel._elm.style.zIndex = \"300\";\n\n\t\t\t/**\n\t\t\t * Option icon image, the element is only created when a icon is set.\n\t\t\t *\n\t\t\t * @attribute icon\n\t\t\t * @type {DOM}\n\t\t\t */\n\t\t\tthis.icon = null;\n\n\t\t\t/**\n\t\t\t * Decorative arrow.\n\t\t\t *\n\t\t\t * @attribute arrow\n\t\t\t * @type {DOM}\n\t\t\t */\n\t\t\tthis.arrow = document.createElement(\"img\");\n\t\t\tthis.arrow.style.display = \"none\";\n\t\t\tthis.arrow.style.position = \"absolute\";\n\t\t\tthis.arrow.style.right = \"5px\";\n\t\t\tthis.arrow.style.top = \"3px\";\n\t\t\tthis.arrow.style.width = \"12px\";\n\t\t\tthis.arrow.style.height = \"12px\";\n\t\t\t//this.arrow.src = Global.FILE_PATH + \"icons/misc/arrow_right.png\";\n\t\t\tthis._elm.appendChild(this.arrow);\n\n\t\t\t/**\n\t\t\t * Direction to open the dropdown.\n\t\t\t *\n\t\t\t * @attribute direction\n\t\t\t * @type {Number}\n\t\t\t */\n\t\t\tthis.direction = DropdownMenu.DOWN;\n\t\t\t\n\t\t\t/**\n\t\t\t * Indicates if the dropdown menu is expanded.\n\t\t\t *\n\t\t\t * @attribute expanded\n\t\t\t * @type {Boolean}\n\t\t\t */\n\t\t\tthis.expanded = false;\n\t\t\tthis.optionsSize = new Vector2(150, 20);\n\n\t\t\t/**\n\t\t\t * Options available in the dropdown.\n\t\t\t *\n\t\t\t * Options are stored as: {button:button, value:object, name:string}\n\t\t\t *\n\t\t\t * @attribute options\n\t\t\t * @type {Array}\n\t\t\t */\n\t\t\tthis.options = [];\n\n\t\t\tvar self = this;\n\n\t\t\tthis._elm.onmouseenter = function()\n\t\t\t{\n\t\t\t\tself.setExpanded(true);\n\t\t\t\tself._elm.style.backgroundColor = Editor.theme.buttonOverColor;\n\t\t\t};\n\n\t\t\tthis._elm.onmouseleave = function()\n\t\t\t{\n\t\t\t\tself.setExpanded(false);\n\t\t\t\tself._elm.style.backgroundColor = Editor.theme.buttonColor;\n\t\t\t};\n\t\t\t\n\t\t\tthis.panel._elm.onmouseenter = function()\n\t\t\t{\n\t\t\t\tself.setExpanded(true);\n\t\t\t};\n\n\t\t\tthis.panel._elm.onmouseleave = function()\n\t\t\t{\n\t\t\t\tself.setExpanded(false);\n\t\t\t};\n\n\t\t},\n\n\t\t/**\n\t\t * Set location to where options should open.\n\t\t *\n\t\t * @method setDirection\n\t\t */\n\t\tsetDirection : function(location) {\n\t\t\tthis.direction = location;\n\t\t},\n\n\t\t/**\n\t\t * Show arrow.\n\t\t *\n\t\t * @method showArrow\n\t\t */\n\t\tshowArrow : function() {\n\t\t\tthis.arrow.style.display = \"block\";\n\t\t},\n\n\t\t/**\n\t\t * Set icon.\n\t\t *\n\t\t * @method setIcon\n\t\t * @param {String} icon Image URL.\n\t\t */\n\t\tsetIcon : function(icon) {\n\t\t\tif(this.icon === null) {\n\t\t\t\tthis.icon = document.createElement(\"img\");\n\t\t\t\tthis.icon.style.display = \"block\";\n\t\t\t\tthis.icon.style.position = \"absolute\";\n\t\t\t\tthis.icon.style.left = \"5px\";\n\t\t\t\tthis.icon.style.top = \"3px\";\n\t\t\t\tthis.icon.style.width = \"12px\";\n\t\t\t\tthis.icon.style.height = \"12px\";\n\t\t\t\tthis._elm.appendChild(this.icon);\n\t\t\t}\n\n\t\t\tthis.icon.src = icon;\n\t\t},\n\n\t\t/**\n\t\t * Remove option from menu.\n\t\t *\n\t\t * @method removeOption\n\t\t * @param {Number} index\n\t\t */\n\t\tremoveOption : function(index) {\n\t\t\tif(index >= 0 && index < this.options.length) {\n\t\t\t\tthis.options[index].destroy();\n\t\t\t\tthis.options.splice(index, 1);\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Add new option to menu\n\t\t *\n\t\t * @method addOption\n\t\t * @param {String} name of the option\n\t\t * @param {Function} callback Callback function\n\t\t * @param {String} icon Icon URL.\n\t\t * @return {ButtonMenu} Button created for the new option.\n\t\t */\n\t\taddOption : function(name, callback, icon) {\n\t\t\tvar button = new ButtonMenu(this.panel);\n\t\t\tbutton._elm.style.zIndex = \"200\";\n\t\t\tbutton.setText(name);\n\t\t\tbutton.setAlignment(Text.LEFT);\n\t\t\tbutton.position.set(25, 0);\n\n\t\t\tvar self = this;\n\t\t\tbutton.setOnClick(function(){\n\t\t\t\tcallback();\n\t\t\t\tself.setExpanded(false);\n\t\t\t});\n\n\t\t\tif(icon !== undefined) \t{\n\t\t\t\tbutton.setIcon(icon);\n\t\t\t}\n\n\t\t\tthis.options.push(button);\n\n\t\t\treturn button;\n\t\t},\n\n\t\t/**\n\t\t * Add new menu to menu.\n\t\t *\n\t\t * @method addOption\n\t\t * @param {String} name Name of the option.\n\t\t * @param {String} icon Optional icon, image URL.\n\t\t * @return {DropdownMenu} The new menu created.\n\t\t */\n\t\taddMenu : function(name, icon) {\n\t\t\tvar menu = new DropdownMenu(this.panel);\n\t\t\tmenu.setText(name);\n\t\t\tmenu.setDirection(DropdownMenu.LEFT);\n\t\t\tmenu.showArrow();\n\t\t\tmenu.setAlignment(Text.LEFT);\n\t\t\tmenu.setMargin(25);\n\t\t\t\n\t\t\tif(icon !== undefined)\n\t\t\t{\n\t\t\t\tmenu.setIcon(icon);\n\t\t\t}\n\n\t\t\tthis.options.push(menu);\n\n\t\t\treturn menu;\n\t\t},\n\n\t\t/** \n\t\t * Update expanded state, position all options in this dropdown.\n\t\t * \n\t\t * @method setExpanded\n\t\t * @param {Boolean} expanded If true the menu will be expanded.\n\t\t */\n\t\tsetExpanded : function(expanded){\n\t\t\tthis.expanded = expanded;\n\n\t\t\tif(this.expanded) {\n\t\t\t\tthis.panel._elm.style.display = \"block\";\n\n\t\t\t\tif(this.direction === DropdownMenu.DOWN){\n\t\t\t\t\tthis.panel._elm.style.top = (this.position.y + this.size.y) + \"px\";\n\t\t\t\t\tthis.panel._elm.style.left = this.position.x + \"px\";\n\n\t\t\t\t\t//var out = DOMUtils.checkBorder(this.panel);\n\t\t\t\t\tvar out = geom.testAsis(this.panel);\n\n\t\t\t\t\tif(out.y !== 0)\t{\n\t\t\t\t\t\tthis.panel._elm.style.top = null;\n\t\t\t\t\t\tthis.panel._elm.style.bottom = (this.position.y + this.size.y) + \"px\";\n\t\t\t\t\t}\n\t\t\t\t\tif(out.x !== 0)\t{\n\t\t\t\t\t\tthis.panel._elm.style.left = (this.position.x - out.x) + \"px\"; \n\t\t\t\t\t}\n\t\t\t\t} else if(this.direction === DropdownMenu.UP){\n\t\t\t\t\tthis.panel._elm.style.bottom = (this.position.y + this.size.y) + \"px\";\n\t\t\t\t\tthis.panel._elm.style.left = this.position.x + \"px\";\n\n\t\t\t\t\t//var out = DOMUtils.checkBorder(this.panel);\n\t\t\t\t\tvar out = geom.testAsis(this.panel);\n\t\t\t\t\tif(out.y !== 0)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.panel._elm.style.bottom = null;\n\t\t\t\t\t\tthis.panel._elm.style.top = (this.position.y + this.size.y) + \"px\";\n\t\t\t\t\t}\n\t\t\t\t\tif(out.x !== 0)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.panel._elm.style.left = (this.position.x - out.x) + \"px\"; \n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if(this.direction === DropdownMenu.LEFT)\n\t\t\t\t{\n\t\t\t\t\tthis.panel._elm.style.top = this.position.y + \"px\";\n\t\t\t\t\tthis.panel._elm.style.left = (this.position.x + this.size.x) + \"px\";\n\n\t\t\t\t\t//var out = DOMUtils.checkBorder(this.panel);\n\t\t\t\t\tvar out = geom.testAsis(this.panel);\n\t\t\t\t\tif(out.x !== 0)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.panel._elm.style.left = (this.position.x - this.size.x) + \"px\"; \n\t\t\t\t\t}\n\t\t\t\t\tif(out.y !== 0)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.panel._elm.style.top = (this.position.y - out.y) + \"px\";\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if(this.direction === DropdownMenu.RIGHT)\n\t\t\t\t{\n\t\t\t\t\tthis.panel._elm.style.top = this.position.y + \"px\";\n\t\t\t\t\tthis.panel._elm.style.left = (this.position.x - this.size.x) + \"px\";\n\n\t\t\t\t\t//var out = DOMUtils.checkBorder(this.panel);\n\t\t\t\t\tvar out = geom.testAsis(this.panel);\n\t\t\t\t\tif(out.x !== 0)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.panel._elm.style.left = (this.position.x + this.size.x) + \"px\";\n\t\t\t\t\t}\n\t\t\t\t\tif(out.y !== 0)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.panel._elm.style.top = (this.position.y - out.y) + \"px\";\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tthis.panel._elm.style.display = \"none\";\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Update all options in the menu.\n\t\t * \n\t\t * @method updateOptions\n\t\t */\n\t\tupdateOptions : function() {\n\t\t\tfor(var i = 0; i < this.options.length; i++) {\n\t\t\t\tthis.options[i].size.set(this.optionsSize.x, this.optionsSize.y);\n\t\t\t\tthis.options[i].position.set(0, this.optionsSize.y * i);\n\t\t\t\tthis.options[i].updateInterface();\n\t\t\t}\n\n\t\t\tthis.panel._elm.style.width = this.size.x + \"px\";\n\t\t\tthis.panel._elm.style.height = (this.optionsSize.y * this.options.length) + \"px\";\n\t\t},\n\n\t\tdestroy : function() {\n\t\t\tWidget.prototype.destroy.call(this);\n\n\t\t\tthis.parent.destroy();\n\t\t},\n\n\t\tupdateSize : function() {\n//\t\t\tText.prototype.updateSize.call(this);\n\n\t\t\tthis.updateOptions();\n\t\t},\n\n\n\t\t...TextMixin\n\n\t});\n\n\n\tDropdownMenu.DOWN = 0;\n\tDropdownMenu.UP = 1;\n\tDropdownMenu.LEFT = 2;\n\tDropdownMenu.RIGHT = 3;\n\n\n\n\treturn DropdownMenu;\n});"]}