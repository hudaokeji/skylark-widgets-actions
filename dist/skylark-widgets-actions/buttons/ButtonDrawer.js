/**
 * skylark-widgets-actions - The skylark action widgets library
 * @author Hudaokeji, Inc.
 * @version v0.9.0
 * @link https://github.com/skylark-widgets/skylark-widgets-actions/
 * @license MIT
 */
define(["skylark-langx-numerics/Vector2","skylark-widgets-base/Widget","./ButtonImage"],function(t,e,i){"use strict";var n=i.inherit({_construct:function(e){i.prototype._construct.call(this,e),this._elm.style.zIndex="200",this._elm.style.backgroundColor=Editor.theme.buttonColor,this._elm.style.overflow="visible",this.panel=new Widget(this,"div"),this.panel.element.style.overflow="visible",this.panel.element.style.backgroundColor=Editor.theme.barColor,this.panel.element.style.zIndex="250",this.options=[],this.optionsPerLine=3,this.optionsSize=new t(40,40),this.optionsScale=new t(.7,.7),this.expanded=!1,this.setExpanded(!1);var n=this;this._elm.onmouseenter=function(){n.element.style.backgroundColor=Editor.theme.buttonOverColor,n.setExpanded(!0)},this._elm.onmouseleave=function(){n.element.style.backgroundColor=Editor.theme.buttonColor,n.setExpanded(!1)},this.panel.element.onmouseenter=function(){n.setExpanded(!0)},this.panel.element.onmouseleave=function(){n.setExpanded(!1)}},clear:function(){for(var t=0;t<this.options.length;t++)this.options[t].destroy();this.options=[]},setExpanded:function(t){this.expanded=t,this.panel.element.style.display=this.expanded?"block":"none"},insertOption:function(t){t.attachTo(this.panel),this.options.push(t)},addOption:function(t,e,n){var o=this,s=new i(this.panel);s.setImage(t),s.setOnClick(function(){e(),o.expanded=!1,o.updateInterface()}),void 0!==n&&s.setAltText(n),this.options.push(s)},removeOption:function(t){t>=0&&t<this.options.length&&(this.options[t].destroy(),this.options.splice(t,1))},_updatePanelSize:function(){var t=this.options.length<this.optionsPerLine?this.options.length:this.optionsPerLine;this.panel.size.x=this.optionsSize.x*t,this.panel.size.y=this.optionsSize.y*(Math.floor((this.options.length-1)/t)+1),this.panel.updateSize(),this.panel.position.set(this.optionsSize.x,0),this.panel.updatePosition()},_updateOptions:function(){this.updatePanelSize();for(var t=this.options.length<this.optionsPerLine?this.options.length:this.optionsPerLine,e=0;e<this.options.length;e++)this.options[e].size.set(this.optionsSize.x,this.optionsSize.y),this.options[e].position.x=this.optionsSize.x*(e%t),this.options[e].position.y=this.optionsSize.y*Math.floor(e/t),this.options[e].updateInterface()},_updateVisibility:function(){this._elm.style.display=this.visible?"block":"none"}});return actions.buttons.ButtonDrawer=n});
//# sourceMappingURL=../sourcemaps/buttons/ButtonDrawer.js.map
