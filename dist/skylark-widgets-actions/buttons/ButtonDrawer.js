/**
 * skylark-widgets-actions - The skylark action widgets library
 * @author Hudaokeji, Inc.
 * @version v0.9.0
 * @link https://github.com/skylark-widgets/skylark-widgets-actions/
 * @license MIT
 */
define(["skylark-langx-numerics/Vector2","skylark-widgets-base/Widget","../actions","./ButtonImage"],function(t,e,i,s){"use strict";var n=s.inherit({_construct:function(i){s.prototype._construct.call(this,i),this._elm.style.zIndex="200",this._elm.style.backgroundColor=Editor.theme.buttonColor,this._elm.style.overflow="visible",this.panel=new e(this,"div"),this.panel.element.style.overflow="visible",this.panel.element.style.backgroundColor=Editor.theme.barColor,this.panel.element.style.zIndex="250",this.items=[],this.itemsPerLine=3,this.itemsSize=new t(40,40),this.itemsScale=new t(.7,.7),this.expanded=!1,this.setExpanded(!1);var n=this;this._elm.onmouseenter=function(){n.element.style.backgroundColor=Editor.theme.buttonOverColor,n.setExpanded(!0)},this._elm.onmouseleave=function(){n.element.style.backgroundColor=Editor.theme.buttonColor,n.setExpanded(!1)},this.panel.element.onmouseenter=function(){n.setExpanded(!0)},this.panel.element.onmouseleave=function(){n.setExpanded(!1)}},clear:function(){for(var t=0;t<this.items.length;t++)this.items[t].destroy();this.items=[]},setExpanded:function(t){this.expanded=t,this.panel.element.style.display=this.expanded?"block":"none"},insertItem:function(t){t.attachTo(this.panel),this.items.push(t)},addItem:function(t,e,i){var n=this,o=new s(this.panel);o.setImage(t),o.setOnClick(function(){e(),n.expanded=!1,n.updateInterface()}),void 0!==i&&o.setAltText(i),this.items.push(o)},removeItem:function(t){t>=0&&t<this.items.length&&(this.items[t].destroy(),this.items.splice(t,1))},updatePanelSize:function(){var t=this.items.length<this.itemsPerLine?this.items.length:this.itemsPerLine;this.panel.size.x=this.itemsSize.x*t,this.panel.size.y=this.itemsSize.y*(Math.floor((this.items.length-1)/t)+1),this.panel.updateSize(),this.panel.position.set(this.itemsSize.x,0),this.panel.updatePosition()},updateItems:function(){this.updatePanelSize();for(var t=this.items.length<this.itemsPerLine?this.items.length:this.itemsPerLine,e=0;e<this.items.length;e++)this.items[e].size.set(this.itemsSize.x,this.itemsSize.y),this.items[e].position.x=this.itemsSize.x*(e%t),this.items[e].position.y=this.itemsSize.y*Math.floor(e/t),this.items[e].updateInterface()},updateVisibility:function(){this._elm.style.display=this.visible?"block":"none"},optionsSize:{get:function(){return this.itemsSize},set:function(t){this.itemsSize=t}},optionsPerLine:{get:function(){return this.itemsPerLine},set:function(t){this.itemsPerLine=t}}});return n.prototype.addOption=n.prototype.addItem,n.prototype.insertOption=n.prototype.insertItem,n.prototype.updateOptions=n.prototype.updateItems,n.prototype.removeOption=n.prototype.reomveItem,i.buttons.ButtonDrawer=n});
//# sourceMappingURL=../sourcemaps/buttons/ButtonDrawer.js.map
